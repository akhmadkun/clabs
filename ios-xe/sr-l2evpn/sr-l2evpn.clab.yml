name: segmentrouting-l2vpn
prefix: ""
topology:
  kinds:
    cisco_c8000v:
      image: arthurk99/cisco-c8000v:17.11.01a
  nodes:
    PE1: # lo0 : 1.1.1.1
      kind: cisco_c8000v
    P3: # lo0 : 3.3.3.3
      kind: cisco_c8000v
    PE2: # lo0 : 2.2.2.2
      kind: cisco_c8000v
    ce1: # 192.168.100.1/24
      kind: ceos
      image: ceos:4.35.0F
    ce2: # 192.168.100.2/24
      kind: ceos
      image: ceos:4.35.0F

  links:
    # Underlay OSPF Area 0 | Overlay BGP EVPN
    - endpoints: ["PE1:eth1", "P3:eth1"] # 10.10.13.0/24
    - endpoints: ["P3:eth2", "PE2:eth2"] # 10.10.23.0/24

    # L2 Bridge / Access
    - endpoints: ["ce1:eth1", "PE1:eth3"] 
    - endpoints: ["ce2:eth1", "PE2:eth3"] 
