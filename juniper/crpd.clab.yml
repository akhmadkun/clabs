name: crpd-testing
prefix: ""
topology:
  kinds:
    juniper_crpd:
      image: xzjt/crpd:25.2R1-S1.4
    arista_ceos:
      image: ceos:4.35.0F
  nodes:
    jr1:
      kind: juniper_crpd
    jr2:
      kind: juniper_crpd
    jr3:
      kind: juniper_crpd
    jr4:
      kind: juniper_crpd
    jr5:
      kind: juniper_crpd
    jr6:
      kind: juniper_crpd
    jr7:
      kind: juniper_crpd
    jr8:
      kind: juniper_crpd

    ceos:
      kind: arista_ceos
      startup-config: startup-config/ceos.cfg

  links:
    # jr1 <---> jr2
    - endpoints: ["jr1:eth1", "jr2:eth1"]
    - endpoints: ["jr1:eth2", "jr2:eth2"]

    # jr5 <---> jr6
    - endpoints: ["jr5:eth1", "jr6:eth1"]
    - endpoints: ["jr5:eth2", "jr6:eth2"]

    # switches
    - endpoints: ["ceos:eth1", "jr1:eth4"]
    - endpoints: ["ceos:eth2", "jr2:eth4"]
    - endpoints: ["ceos:eth3", "jr3:eth4"]
    - endpoints: ["ceos:eth4", "jr4:eth4"]
    - endpoints: ["ceos:eth5", "jr5:eth4"]
    - endpoints: ["ceos:eth6", "jr6:eth4"]
    - endpoints: ["ceos:eth7", "jr7:eth4"]
    - endpoints: ["ceos:eth8", "jr8:eth4"]
